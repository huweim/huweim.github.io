<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage data-theme=light><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Matplotlib - Weiming Hu
</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=color-scheme content="light dark"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=generator content="Hugo 0.140.2"><link rel=canonical href=https://huweim.github.io/post/%E7%BC%96%E7%A8%8B_matplotlib/><meta name=author content="Cory"><meta name=description content='1. plot 1.1 hist Copy data = [0,1,2,5,6,5,8,7,64,66,5,8,8,8,8,8] plt.hist(data, bins=3, label="weight")	1.1.1 参数 bins，直方图的 bucket，bins = 3 表示将区间分为 3 buckets。数值范围是 0-66，那么大概分为 0-22，23-45，45-67 三个 bucket，然后根据 data 中的情况，往这几个 bucket 投票/计数。 range，x 轴的显示范围 1.2 通用设置 1.2.1 label 设置 给出y轴的名称
'><meta name=keywords content="Python,matplotlib"><meta property="og:url" content="https://huweim.github.io/post/%E7%BC%96%E7%A8%8B_matplotlib/"><meta property="og:site_name" content="Weiming Hu"><meta property="og:title" content="Matplotlib"><meta property="og:description" content='1. plot 1.1 hist Copy data = [0,1,2,5,6,5,8,7,64,66,5,8,8,8,8,8] plt.hist(data, bins=3, label="weight")	1.1.1 参数 bins，直方图的 bucket，bins = 3 表示将区间分为 3 buckets。数值范围是 0-66，那么大概分为 0-22，23-45，45-67 三个 bucket，然后根据 data 中的情况，往这几个 bucket 投票/计数。 range，x 轴的显示范围 1.2 通用设置 1.2.1 label 设置 给出y轴的名称'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-04-19T20:29:07+08:00"><meta property="article:modified_time" content="2023-03-21T20:29:07+08:00"><meta property="article:tag" content="Python"><meta property="article:tag" content="Matplotlib"><meta itemprop=name content="Matplotlib"><meta itemprop=description content='1. plot 1.1 hist Copy data = [0,1,2,5,6,5,8,7,64,66,5,8,8,8,8,8] plt.hist(data, bins=3, label="weight")	1.1.1 参数 bins，直方图的 bucket，bins = 3 表示将区间分为 3 buckets。数值范围是 0-66，那么大概分为 0-22，23-45，45-67 三个 bucket，然后根据 data 中的情况，往这几个 bucket 投票/计数。 range，x 轴的显示范围 1.2 通用设置 1.2.1 label 设置 给出y轴的名称'><meta itemprop=datePublished content="2022-04-19T20:29:07+08:00"><meta itemprop=dateModified content="2023-03-21T20:29:07+08:00"><meta itemprop=wordCount content="811"><meta itemprop=keywords content="Python,Matplotlib"><meta name=twitter:card content="summary"><meta name=twitter:title content="Matplotlib"><meta name=twitter:description content='1. plot 1.1 hist Copy data = [0,1,2,5,6,5,8,7,64,66,5,8,8,8,8,8] plt.hist(data, bins=3, label="weight")	1.1.1 参数 bins，直方图的 bucket，bins = 3 表示将区间分为 3 buckets。数值范围是 0-66，那么大概分为 0-22，23-45，45-67 三个 bucket，然后根据 data 中的情况，往这几个 bucket 投票/计数。 range，x 轴的显示范围 1.2 通用设置 1.2.1 label 设置 给出y轴的名称'><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/style.min.de488e0d4b09a0b9f6412192239661fda9bb9ea66e49d8f210bf0786a4e36acb.css integrity="sha256-3kiODUsJoLn2QSGSI5Zh/am7nqZuSdjyEL8HhqTjass=" media=screen crossorigin=anonymous><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><script>(function(){var e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)})()</script></head><body><div id=back-to-top></div><header class=site-header><div class=desktop-header><div class=desktop-header-logo><a href=/ class=logo>Weiming Hu</a></div><nav class=desktop-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://huweim.github.io/>Home</a></li><li class=menu-item><a class=menu-item-link href=https://huweim.github.io/post>All posts</a></li><li class=menu-item><a class=menu-item-link href=https://huweim.github.io/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=https://huweim.github.io/archives>Archives</a></li><li class=menu-item><a class=menu-item-link href=https://huweim.github.io/tags>Tags</a></li><li class=menu-item><a class=menu-item-link href=https://huweim.github.io/about/>About</a></li><li class=menu-item><a class="theme-toggle menu-item-link" href=javascript:void(0);><svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg><svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></a></li><li class=menu-item><a class=menu-item-link href=https://huweim.github.io/index.xml rel="noopener alternate" type=application/rss+xml title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></li></ul></nav></div><div class=mobile-header><div id=mobile-navbar class=mobile-navbar><div id=mobile-navbar-icon class=mobile-navbar-icon><svg aria-hidden="true" class="lucide lucide-menu hi-svg-inline icon--menu" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg></div><div class=mobile-navbar-logo><a href=/ class=logo>Weiming Hu</a></div></div><div id=mobile-menu-close-modal class=mobile-menu-close-modal></div><nav id=mobile-menu class=mobile-menu><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://huweim.github.io/>Home</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://huweim.github.io/post>All posts</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://huweim.github.io/categories/>Categories</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://huweim.github.io/archives>Archives</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://huweim.github.io/tags>Tags</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://huweim.github.io/about/>About</a></li><li class=mobile-menu-item><a class="theme-toggle menu-item-link" href=javascript:void(0);><svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg><svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></a></li><li class=mobile-menu-item><a class=menu-item-link href=https://huweim.github.io/index.xml rel="noopener alternate" type=application/rss+xml title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></li></ul></nav></div></header><main id=main class="main pico container"><div class=content-wrapper><aside class=sidebar></aside><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Matplotlib</h1><div class=post-meta-list><div class="post-meta-item post-meta-author"><svg aria-hidden="true" class="lucide lucide-user-round-pen hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M2 21a8 8 0 0110.821-7.487"/><path d="M21.378 16.626a1 1 0 00-3.004-3.004l-4.01 4.012a2 2 0 00-.506.854l-.837 2.87a.5.5.0 00.62.62l2.87-.837a2 2 0 00.854-.506z"/><circle cx="10" cy="8" r="5"/></svg>
Cory</div><div class="post-meta-item post-meta-time"><svg aria-hidden="true" class="lucide lucide-calendar-days hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
<time datetime=2022-04-19>2022-04-19
</time><span class="post-meta-item post-meta-lastmod">(LastMod:
2023-03-21)</span></div><div class=post-meta__right><span class=post-meta-more>811 words -
2 min read</span><div class="post-meta-item post-meta-category"><a href=https://huweim.github.io/categories/%E7%BC%96%E7%A8%8B/>编程</a></div></div></div></header><div class=post-content><h1 id=1-plot>1. plot</h1><h2 id=11-hist>1.1 hist</h2><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>data <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>6</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>7</span>,<span style=color:#ae81ff>64</span>,<span style=color:#ae81ff>66</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>8</span>,<span style=color:#ae81ff>8</span>]
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>hist(data, bins<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, label<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;weight&#34;</span>)	</span></span></code></pre></div></div><h3 id=111-参数>1.1.1 参数</h3><ul><li>bins，直方图的 bucket，bins = 3 表示将区间分为 3 buckets。数值范围是 0-66，那么大概分为 0-22，23-45，45-67 三个 bucket，然后根据 <code>data</code> 中的情况，往这几个 bucket 投票/计数。</li><li>range，x 轴的显示范围</li></ul><h2 id=12-通用设置>1.2 通用设置</h2><h3 id=121-label-设置>1.2.1 label 设置</h3><p>给出y轴的名称</p><p>论文中时常需要设置 y 轴参数</p><p>plt.legend() 显示 label</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plt<span style=color:#f92672>.</span>legend(loc<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;upper right&#39;</span>, ncol<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>, fontsize<span style=color:#f92672>=</span><span style=color:#ae81ff>30</span>) </span></span></code></pre></div></div><p>ncol 设置行列如何排布，有时候需要排成一排，有时候需要排成一列</p><h3 id=122-坐标轴刻度-scale>1.2.2 坐标轴刻度 scale</h3><h4 id=1221-pltxticks-pltyticks>1.2.2.1 plt.xticks(), plt.yticks()</h4><p>关于刻度的一些设置</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>xticks(locs, [labels], <span style=color:#f92672>**</span>kwargs)  <span style=color:#75715e># Set locations and labels</span>
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>yticks(np<span style=color:#f92672>.</span>arange(<span style=color:#ae81ff>0.5</span>, <span style=color:#ae81ff>1.3</span>, step<span style=color:#f92672>=</span><span style=color:#ae81ff>0.05</span>),family<span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;Arial&#39;</span>, weight<span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;normal&#39;</span>, size<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>)</span></span></code></pre></div></div><p>np.arange(0.5, 1.3, step=0.05) 设置刻度的范围和步长</p><p>不显示 y 轴刻度</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>yticks([])</span></span></code></pre></div></div><h4 id=1222-pltylim05-13>1.2.2.2 plt.ylim((0.5, 1.3))</h4><p>设置坐标轴范围，为 0.5-1.3</p><h4 id=1223-pltxscale-pltyscale-对数坐标轴>1.2.2.3 plt.xscale, plt.yscale 对数坐标轴</h4><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>draw</span>():
</span></span><span style=display:flex><span>    draw_max <span style=color:#f92672>=</span> resnet18_base<span style=color:#f92672>.</span>layer4_bb2_Conv2d_2[<span style=color:#e6db74>&#39;max&#39;</span>]
</span></span><span style=display:flex><span>    x <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>arange(<span style=color:#ae81ff>0</span>, len(draw_max))
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>plot(x, draw_max, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;r&#39;</span>, label<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;max&#34;</span>)
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>legend()
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>xscale(<span style=color:#e6db74>&#39;log&#39;</span>) <span style=color:#75715e># 默认 base is 10</span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>yscale(<span style=color:#e6db74>&#39;log&#39;</span>, base<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>) <span style=color:#75715e># 可以手动设置为 2</span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>savefig(<span style=color:#e6db74>&#39;../img/fig_conv.png&#39;</span>)
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>close()</span></span></code></pre></div></div><p>对于 y 轴对数化比较简单。如果是对于 hist，x 轴想要使用 log 坐标轴，需要调整参数 bins</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plt<span style=color:#f92672>.</span>ylabel(<span style=color:#e6db74>&#39;number&#39;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>xlabel(<span style=color:#e6db74>&#39;value&#39;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>hist( tmp_channel_list[i] , bins<span style=color:#f92672>=</span><span style=color:#ae81ff>20</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;green&#39;</span>,label<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;activation channel&#34;</span>, density<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>legend()
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;Activation Distribution&#39;</span>)
</span></span><span style=display:flex><span>str_index <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;ep&#39;</span> <span style=color:#f92672>+</span> str(epoch_idx) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;_it&#39;</span> <span style=color:#f92672>+</span> str(iteration_idx) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;_l&#39;</span> <span style=color:#f92672>+</span> str(index) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;_c&#39;</span> <span style=color:#f92672>+</span> str(i) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;_&#39;</span> 
</span></span><span style=display:flex><span><span style=color:#75715e># plt.yscale(&#39;log&#39;, base=2)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># plt.xscale(&#39;log&#39;, base=2)</span>
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>savefig(<span style=color:#e6db74>&#39;/nvme/wmhu/work/ant_extension/ant_quantization/ImageNet/distri/img/&#39;</span> <span style=color:#f92672>+</span> args<span style=color:#f92672>.</span>model <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;/chan_img/fig_&#39;</span><span style=color:#f92672>+</span> str_index <span style=color:#f92672>+</span><span style=color:#e6db74>&#39;.png&#39;</span>)
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>close()</span></span></code></pre></div></div><h3 id=123-其他>1.2.3 其他</h3><h4 id=1231-plttitle>1.2.3.1 plt.title()</h4><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plt<span style=color:#f92672>.</span>title(filename, {<span style=color:#e6db74>&#39;family&#39;</span> : <span style=color:#e6db74>&#39;Arial&#39;</span>, <span style=color:#e6db74>&#39;weight&#39;</span> : <span style=color:#e6db74>&#39;normal&#39;</span>, <span style=color:#e6db74>&#39;size&#39;</span> : <span style=color:#ae81ff>20</span>})</span></span></code></pre></div></div><h4 id=1232-pltsubplot>1.2.3.2 plt.subplot()</h4><p>这个是画图的时候比较常用的</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>    <span style=color:#75715e># 分成2x2，占用第一个，即第一行第一列的子图</span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>    filename <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;cifar&#39;</span>
</span></span><span style=display:flex><span>    show_graph_cifar(filename)
</span></span><span style=display:flex><span>    <span style=color:#75715e># 分成2x2，占用第一个，即第一行第一列的子图</span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    filename <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;resnet&#39;</span>
</span></span><span style=display:flex><span>    show_graph_resnet(filename)
</span></span><span style=display:flex><span>	<span style=color:#75715e># 分成2x1，占用第二个，即第二行</span>
</span></span><span style=display:flex><span>    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    filename <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;alex&#39;</span>
</span></span><span style=display:flex><span>    show_graph_alex(filename)</span></span></code></pre></div></div><p>效果</p><p>参数 <code>ncol</code> 设置列数，可以把他们排成一行</p><h4 id=1233-pltgrid>1.2.3.3 plt.grid</h4><p>如何把网格放在最底层？zorder 似乎没有效果。虽然警告了 <code>zorder unknown word</code>，但是设置之后还是 work 了。</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plt<span style=color:#f92672>.</span>grid(visible<span style=color:#f92672>=</span><span style=color:#66d9ef>True</span>, which<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;major&#39;</span>, axis<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;y&#39;</span>, linestyle<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;--&#39;</span>, zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>)</span></span></code></pre></div></div><p>zorder 设置值比 bar 更小，就可以放在最底层了</p><h4 id=1234-pltbar-绘制直方图和叠加直方图>1.2.3.4 plt.bar() 绘制直方图和叠加直方图</h4><p>叠加直方图这次没做，不过不是很难，大概是给 bar 指定一个起始位置</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>plt<span style=color:#f92672>.</span>bar(x_length <span style=color:#f92672>+</span> bar_width,y_8,width<span style=color:#f92672>=</span>bar_width,label<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;8 entry&#34;</span>, color<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;darkorange&#39;</span>, edgecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;black&#39;</span>, zorder<span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>)</span></span></code></pre></div></div><p>加上边框 edgecolor 会好看很多。</p><h4 id=1235-pltsubplots_adjustbottom035>1.2.3.5 plt.subplots_adjust(bottom=0.35)</h4><p>提前设置好 top, bottom, 各种空白等参数，让打出来的图片可以直接使用</p><h4 id=1236-color-参数>1.2.3.6 color 参数</h4><h4 id=1237-在服务器上使用-matplotlib--savefig>1.2.3.7 在服务器上使用 matplotlib / savefig</h4><p>这里特指的是没有图形界面的服务器，需要将图片保存下来查看，而不能直接生成图片。</p><div class=highlight-container><button class="copy-code-btn outline">Copy</button><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib 
</span></span><span style=display:flex><span>matplotlib<span style=color:#f92672>.</span>use(<span style=color:#e6db74>&#39;Agg&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#75715e># 在 plt 之前添加上述两行代码</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 设置保存图片的位置</span>
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>savefig(<span style=color:#e6db74>&#39;/home/wmhu/share/figure/fig1.png&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># 如果需要绘制多个图片，记得在每一个 savefig 下面接一个 close ，不然会重叠</span>
</span></span><span style=display:flex><span>plt<span style=color:#f92672>.</span>close()</span></span></code></pre></div></div></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>Cory</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2023-03-21</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=https://huweim.github.io/tags/python/>Python</a>
<a href=https://huweim.github.io/tags/matplotlib/>matplotlib</a></div><nav class=post-nav><a class=prev href=/post/%E6%80%BB%E7%BB%93_%E5%A6%82%E4%BD%95%E8%AF%BB%E8%AE%BA%E6%96%87%E6%9D%8E%E6%B2%90/><i class=iconfont><svg aria-hidden="true" class="lucide lucide-chevron-left hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="m15 18-6-6 6-6"/></svg>
</i><span class="prev-text nav-default">如何读论文（李沐）</span>
<span class="prev-text nav-mobile">Prev</span>
</a><a class=next href=/post/%E6%95%99%E6%9D%90_csapp%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/><span class="next-text nav-default">CSAPP阅读笔记</span>
<span class="prev-text nav-mobile">Next</span>
<i class=iconfont><svg aria-hidden="true" class="lucide lucide-chevron-right hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="m9 18 6-6-6-6"/></svg></i></a></nav></footer></article></div><nav class=toc id=toc><div class=toc-title>Table of Contents</div><div class="toc-content custom-scrollbar"><nav id=TableOfContents><ul><li><a href=#1-plot>1. plot</a><ul><li><a href=#11-hist>1.1 hist</a><ul><li><a href=#111-参数>1.1.1 参数</a></li></ul></li><li><a href=#12-通用设置>1.2 通用设置</a><ul><li><a href=#121-label-设置>1.2.1 label 设置</a></li><li><a href=#122-坐标轴刻度-scale>1.2.2 坐标轴刻度 scale</a><ul><li><a href=#1221-pltxticks-pltyticks>1.2.2.1 plt.xticks(), plt.yticks()</a></li><li><a href=#1222-pltylim05-13>1.2.2.2 plt.ylim((0.5, 1.3))</a></li><li><a href=#1223-pltxscale-pltyscale-对数坐标轴>1.2.2.3 plt.xscale, plt.yscale 对数坐标轴</a></li></ul></li><li><a href=#123-其他>1.2.3 其他</a><ul><li><a href=#1231-plttitle>1.2.3.1 plt.title()</a></li><li><a href=#1232-pltsubplot>1.2.3.2 plt.subplot()</a></li><li><a href=#1233-pltgrid>1.2.3.3 plt.grid</a></li><li><a href=#1234-pltbar-绘制直方图和叠加直方图>1.2.3.4 plt.bar() 绘制直方图和叠加直方图</a></li><li><a href=#1235-pltsubplots_adjustbottom035>1.2.3.5 plt.subplots_adjust(bottom=0.35)</a></li><li><a href=#1236-color-参数>1.2.3.6 color 参数</a></li><li><a href=#1237-在服务器上使用-matplotlib--savefig>1.2.3.7 在服务器上使用 matplotlib / savefig</a></li></ul></li></ul></li></ul></li></ul></nav></div></nav></div></main><footer id=footer class=site-footer><div class=social-icon-links><a href=mailto:huwm1@shanghaitech.edu.cn rel="me noopener" class=social-icon-link title=email><svg aria-hidden="true" class="icon hi-svg-inline" fill="currentcolor" height="1em" viewBox="0 0 1451 1024" width="1em" xlink="http://www.w3.org/1999/xlink"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408h399.992405s71.046998 3.997201 71.046998 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zm53.281707 130.131124C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523S0 1024 83.726336 1024H682.532949 753.579947h595.368192C1432.688811 1024 1432.688811 942.809523 1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955c-39.771477 34.470494-74.671786 43.295855-98.955861 43.868928z"/></svg>
</a><a href=http://localhost:1313 rel="me noopener" class=social-icon-link title=linkedin target=_blank><svg aria-hidden="true" class="icon hi-svg-inline" fill="currentcolor" height="1em" viewBox="0 0 1024 1024" width="1em" xlink="http://www.w3.org/1999/xlink"><path d="M872.405333 872.618667H720.768V635.008c0-56.661333-1.152-129.578667-79.018667-129.578667-79.061333.0-91.136 61.653333-91.136 125.397334v241.792H398.976V384H544.64v66.602667h1.962667c20.352-38.4 69.845333-78.933333 143.786666-78.933334 153.642667.0 182.058667 101.12 182.058667 232.746667v268.202667zM227.712 317.141333a87.978667 87.978667.0 01-88.021333-88.106666A88.064 88.064.0 11227.712 317.141333zm76.032 555.477334H151.68V384h152.064v488.618667zM948.266667.0h-872.704C33.792.0.0 33.024.0 73.770667v876.458666C0 991.018667 33.792 1024 75.562667 1024h872.576C989.866667 1024 1024 991.018667 1024 950.229333V73.770667C1024 33.024 989.866667.0 948.138667.0h.128z"/></svg>
</a><a href=https://github.com/huweim rel="me noopener" class=social-icon-link title=github target=_blank><svg aria-hidden="true" class="icon hi-svg-inline" fill="currentcolor" height="1em" viewBox="0 0 1024 1024" width="1em" xlink="http://www.w3.org/1999/xlink"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04C242.005334 929.664 211.968 830.08 211.968 830.08 188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg>
</a><a href=https://www.zhihu.com/people/hu-wei-ming-31-86 rel="me noopener" class=social-icon-link title=zhihu target=_blank><svg aria-hidden="true" class="icon hi-svg-inline" fill="currentcolor" height="1em" viewBox="0 0 1024 1024" width="1em" xlink="http://www.w3.org/1999/xlink"><path d="M351.791182 562.469462h192.945407c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262h159.282726s-.86367-67.402109-18.578124-67.402109-279.979646.0-279.979646.0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461s24.62791 5.832845 36.941354.0c12.313443-5.832845 68.050885-25.924439 84.252893-103.69571h86.570681c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262H109.86113c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449H279.868105c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513.0.0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-.055259.185218 167.855986 193.263655s22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-.045025.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"/><path d="M584.918753 182.033893v668.840094h70.318532l28.807093 80.512708 121.875768-80.512708h153.600307L959.520453 182.033893h-374.6017zM887.150192 778.934538h-79.837326l-99.578949 65.782216-23.537066-65.782216h-24.855084L659.341766 256.673847h227.807403V778.934538z"/></svg>
</a><a href=https://huweim.github.io/index.xml rel="noopener alternate" type=application/rss+xml class=social-icon-link title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span><span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a>
</span><span class=copyright-year>&copy;
2020 -
2025
<span class=heart><i class=iconfont><svg aria-hidden="true" class="lucide lucide-heart hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5.0 0016.5 3c-1.76.0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5.0 002 8.5c0 2.3 1.5 4.05 3 5.5l7 7z"/></svg>
</i></span><span class=author>Weiming Hu</span></span></div></footer><script type=text/javascript src=/js/main.eb94e793601239645bc98e36c443aef1b210646ccb43e2217ea949a0212e0ed1.js integrity="sha256-65Tnk2ASOWRbyY42xEOu8bIQZGzLQ+IhfqlJoCEuDtE=" crossorigin=anonymous></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script></body></html>