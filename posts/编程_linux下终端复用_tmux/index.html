<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>tmux: Linux 下终端复用 - Cory Code</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="tmux: Linux 下终端复用"><meta itemprop=description content="0. 前言 个人理解：最重要的思想感觉是将 session 和终端分离，这样的话退出终端时不会中断 session 以及里面的任务，session 还是在后台运行。最重要的是，下次进入终端时可以连接 session，使得可以还原上一次退出时的状态，且后台任务不会中断。
前缀键：Ctrl + B，用<prefix>表示。比如<prefix> %表示先按Ctrl，再按B键，再%键，其完成的功能就是竖直分屏。
0.1 安装、启动、退出 $ sudo apt-get install tmux $ tmux #进入 Tmux 窗口，底部状态栏左侧是窗口信息（编号和名称），右侧是系统信息 $exit #或者 ctrl + d，退出 1. 基本概念 1.1 Session 会话(session): 建立一个 tmux 工作区会话，会话可以长期驻留，重新连接服务器不会丢失，我们只需重新 tmux attach 到之前的工作区就可以恢复会话
Session 一大特点：打开窗口，会话开始；关闭窗口，会话结束，会话内部的进程也随之结束
基于这个 Motivation，为了解决这种关闭窗口工作丢失的问题，会话和窗口可以解绑。窗口关闭时，会话并不会终止，而是继续运行，有需要的时候（理解为需要交互的时候）再让会话绑定其他窗口。
窗口(window): 容纳多个窗格
窗格(pane): 可以在窗口中分成多个窗格
1.2 Tmux Tmux 就是让会话与窗口解绑的工具
 可以在单个窗口中同时访问多个会话。对于同时运行多个命令行程序很有用 可以让新窗口 接入 已存在的会话 允许每个会话有多个连接窗口，可以多人实时共享会话 支持窗口任意的垂直和水平拆分  1. Session 1.1 new 第一个启动的 Tmux 窗口，编号是0，第二个窗口的编号是1，以此类推。这些窗口对应的会话，就是 0 号会话、1 号会话。"><meta itemprop=datePublished content="2022-03-16T08:56:32+08:00"><meta itemprop=dateModified content="2022-03-16T08:57:19+00:00"><meta itemprop=wordCount content="217"><meta itemprop=keywords content="tmux,"><meta property="og:title" content="tmux: Linux 下终端复用"><meta property="og:description" content="0. 前言 个人理解：最重要的思想感觉是将 session 和终端分离，这样的话退出终端时不会中断 session 以及里面的任务，session 还是在后台运行。最重要的是，下次进入终端时可以连接 session，使得可以还原上一次退出时的状态，且后台任务不会中断。
前缀键：Ctrl + B，用<prefix>表示。比如<prefix> %表示先按Ctrl，再按B键，再%键，其完成的功能就是竖直分屏。
0.1 安装、启动、退出 $ sudo apt-get install tmux $ tmux #进入 Tmux 窗口，底部状态栏左侧是窗口信息（编号和名称），右侧是系统信息 $exit #或者 ctrl + d，退出 1. 基本概念 1.1 Session 会话(session): 建立一个 tmux 工作区会话，会话可以长期驻留，重新连接服务器不会丢失，我们只需重新 tmux attach 到之前的工作区就可以恢复会话
Session 一大特点：打开窗口，会话开始；关闭窗口，会话结束，会话内部的进程也随之结束
基于这个 Motivation，为了解决这种关闭窗口工作丢失的问题，会话和窗口可以解绑。窗口关闭时，会话并不会终止，而是继续运行，有需要的时候（理解为需要交互的时候）再让会话绑定其他窗口。
窗口(window): 容纳多个窗格
窗格(pane): 可以在窗口中分成多个窗格
1.2 Tmux Tmux 就是让会话与窗口解绑的工具
 可以在单个窗口中同时访问多个会话。对于同时运行多个命令行程序很有用 可以让新窗口 接入 已存在的会话 允许每个会话有多个连接窗口，可以多人实时共享会话 支持窗口任意的垂直和水平拆分  1. Session 1.1 new 第一个启动的 Tmux 窗口，编号是0，第二个窗口的编号是1，以此类推。这些窗口对应的会话，就是 0 号会话、1 号会话。"><meta property="og:type" content="article"><meta property="og:url" content="https://huweim.github.io/posts/%E7%BC%96%E7%A8%8B_linux%E4%B8%8B%E7%BB%88%E7%AB%AF%E5%A4%8D%E7%94%A8_tmux/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-16T08:56:32+08:00"><meta property="article:modified_time" content="2022-03-16T08:57:19+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="tmux: Linux 下终端复用"><meta name=twitter:description content="0. 前言 个人理解：最重要的思想感觉是将 session 和终端分离，这样的话退出终端时不会中断 session 以及里面的任务，session 还是在后台运行。最重要的是，下次进入终端时可以连接 session，使得可以还原上一次退出时的状态，且后台任务不会中断。
前缀键：Ctrl + B，用<prefix>表示。比如<prefix> %表示先按Ctrl，再按B键，再%键，其完成的功能就是竖直分屏。
0.1 安装、启动、退出 $ sudo apt-get install tmux $ tmux #进入 Tmux 窗口，底部状态栏左侧是窗口信息（编号和名称），右侧是系统信息 $exit #或者 ctrl + d，退出 1. 基本概念 1.1 Session 会话(session): 建立一个 tmux 工作区会话，会话可以长期驻留，重新连接服务器不会丢失，我们只需重新 tmux attach 到之前的工作区就可以恢复会话
Session 一大特点：打开窗口，会话开始；关闭窗口，会话结束，会话内部的进程也随之结束
基于这个 Motivation，为了解决这种关闭窗口工作丢失的问题，会话和窗口可以解绑。窗口关闭时，会话并不会终止，而是继续运行，有需要的时候（理解为需要交互的时候）再让会话绑定其他窗口。
窗口(window): 容纳多个窗格
窗格(pane): 可以在窗口中分成多个窗格
1.2 Tmux Tmux 就是让会话与窗口解绑的工具
 可以在单个窗口中同时访问多个会话。对于同时运行多个命令行程序很有用 可以让新窗口 接入 已存在的会话 允许每个会话有多个连接窗口，可以多人实时共享会话 支持窗口任意的垂直和水平拆分  1. Session 1.1 new 第一个启动的 Tmux 窗口，编号是0，第二个窗口的编号是1，以此类推。这些窗口对应的会话，就是 0 号会话、1 号会话。"><link href="https://fonts.googleapis.com/css?family=Playfair+Display:700" rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://huweim.github.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://huweim.github.io/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://huweim.github.io/css/dark.css><script src=https://huweim.github.io/js/feather.min.js></script>
<script src=https://huweim.github.io/js/main.js></script></head><body><div class="container wrapper"><div class=header><h1 class=site-title><a href=https://huweim.github.io/>Cory Code</a></h1><div class=site-description><p>Minimal and Clean <a href=https://github.com/athul/hugo-ink>blog theme for Hugo</a></p><nav class="nav social"><ul class=flat><li><a href=https://github.com/huweim title=GitHub><i data-feather=github></i></a></li><li><a href=https://twitter.com/athulcajay/ title=Twitter><i data-feather=twitter></i></a></li><li><a href=https://gitlab.com/athul/ title=GitLab><i data-feather=gitlab></i></a></li><li><a href=# class=scheme-toggle id=scheme-toggle></a></li></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>Home</a></li><li><a href=/posts>All posts</a></li><li><a href=/categories/>Categories</a></li><li><a href=/archives>Archives</a></li><li><a href=/tags>Tags</a></li><li><a href=/about/>About</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>16</span>
<span class=rest>Mar 2022</span></div></div><div class=matter><h1 class=title>tmux: Linux 下终端复用</h1></div></div><div class=markdown><h2 id=0-前言>0. 前言</h2><p>个人理解：最重要的思想感觉是将 session 和终端分离，这样的话退出终端时不会中断 session 以及里面的任务，session 还是在后台运行。最重要的是，下次进入终端时可以连接 session，使得可以还原上一次退出时的状态，且后台任务不会中断。</p><p>前缀键：Ctrl + B，用<code>&lt;prefix></code>表示。比如<code>&lt;prefix> %</code>表示先按<code>Ctrl</code>，再按<code>B</code>键，再<code>%</code>键，其完成的功能就是竖直分屏。</p><h3 id=01-安装启动退出>0.1 安装、启动、退出</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ sudo apt-get install tmux
</span></span><span class=line><span class=cl>$ tmux <span class=c1>#进入 Tmux 窗口，底部状态栏左侧是窗口信息（编号和名称），右侧是系统信息</span>
</span></span><span class=line><span class=cl><span class=nv>$exit</span> <span class=c1>#或者 ctrl + d，退出</span>
</span></span></code></pre></div><h2 id=1-基本概念>1. 基本概念</h2><h3 id=11-session>1.1 Session</h3><p>会话(session): 建立一个 tmux 工作区会话，会话可以长期驻留，重新连接服务器不会丢失，我们只需重新 tmux attach 到之前的工作区就可以恢复会话</p><p>Session 一大特点：打开窗口，会话开始；关闭窗口，会话结束，会话内部的进程也随之结束</p><p>基于这个 Motivation，为了解决这种关闭窗口工作丢失的问题，会话和窗口可以解绑。窗口关闭时，会话并不会终止，而是继续运行，有需要的时候（理解为需要交互的时候）再让会话绑定其他窗口。</p><p>窗口(window): 容纳多个窗格</p><p>窗格(pane): 可以在窗口中分成多个窗格</p><h3 id=12-tmux>1.2 Tmux</h3><p>Tmux 就是让会话与窗口解绑的工具</p><ul><li>可以在单个窗口中同时访问多个会话。对于同时运行多个命令行程序很有用</li><li>可以让新窗口 接入 已存在的会话</li><li>允许每个会话有多个连接窗口，可以多人实时共享会话</li><li>支持窗口任意的垂直和水平拆分</li></ul><h2 id=1-session>1. Session</h2><h3 id=11-new>1.1 new</h3><p>第一个启动的 Tmux 窗口，编号是<code>0</code>，第二个窗口的编号是<code>1</code>，以此类推。这些窗口对应的会话，就是 0 号会话、1 号会话。</p><blockquote><p>这里指的是不同会话的窗口？</p></blockquote><p>使用编号区分会话，不太直观，更好的方法是为会话起名。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>$ tmux new -s &lt;session-name&gt;
</span></span></code></pre></div><p>上面命令新建一个指定名称的会话。</p><h3 id=12-detach>1.2 Detach</h3><p>在 Tmux 窗口中，按下<code>&lt;prefix> d</code>或者输入<code>tmux detach</code>命令，就会将当前会话与窗口分离。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ tmux detach
</span></span></code></pre></div><p>上面命令执行后，就会退出当前 Tmux 窗口，但是会话和里面的进程仍然在后台运行。</p><h3 id=13-查看会话>1.3 查看会话</h3><p><code>tmux ls</code>命令可以查看当前所有的 Tmux 会话。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ tmux ls
</span></span><span class=line><span class=cl><span class=c1># or</span>
</span></span><span class=line><span class=cl>$ tmux list-session
</span></span></code></pre></div><h3 id=14-attach-kill-switch>1.4 Attach, Kill, Switch</h3><p><code>tmux attach</code>命令用于重新接入某个已存在的会话。</p><p><code>tmux kill-session</code>命令用于杀死某个会话。</p><p><code>tmux switch</code>命令用于切换会话。</p><p><code>tmux rename-session</code>命令用于重命名会话。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 使用会话编号</span>
</span></span><span class=line><span class=cl>$ tmux attach -t <span class=m>0</span>
</span></span><span class=line><span class=cl>$ tmux kill-session -t <span class=m>0</span>
</span></span><span class=line><span class=cl>$ tmux switch -t <span class=m>0</span>
</span></span><span class=line><span class=cl><span class=c1># 使用会话名称</span>
</span></span><span class=line><span class=cl>$ tmux attach -t &lt;session-name&gt;
</span></span><span class=line><span class=cl>$ tmux kill-session -t &lt;session-name&gt;
</span></span><span class=line><span class=cl>$ tmux switch -t &lt;session-name&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#重命名</span>
</span></span><span class=line><span class=cl>$ tmux rename-session -t <span class=m>0</span> &lt;new-name&gt;
</span></span></code></pre></div><h2 id=2-快捷键>2. 快捷键</h2><h3 id=21-session>2.1 Session</h3><p>下面是一些会话相关的快捷键。</p><ul><li><code>&lt;prefix> d</code>：分离当前会话。</li><li><code>&lt;prefix> s</code>：列出所有会话。</li><li><code>&lt;prefix> $</code>：重命名当前会话。</li></ul><h3 id=22-window>2.2 Window</h3><ul><li><code>&lt;prefix> c</code>：创建一个新窗口，<a href="https://www.zhihu.com/search?q=%E7%8A%B6%E6%80%81%E6%A0%8F&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A261206348%7D">状态栏</a>会显示多个窗口的信息。</li><li><code>&lt;prefix> p</code>：切换到上一个窗口（按照状态栏上的顺序）。</li><li><code>&lt;prefix> n</code>：切换到下一个窗口。</li><li><code>&lt;prefix></code>：切换到指定编号的窗口，其中的``是状态栏上的<a href="https://www.zhihu.com/search?q=%E7%AA%97%E5%8F%A3%E7%BC%96%E5%8F%B7&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra=%7B%22sourceType%22%3A%22article%22%2C%22sourceId%22%3A261206348%7D">窗口编号</a>。</li><li><code>&lt;prefix> w</code>：从列表中选择窗口。</li><li><code>&lt;prefix> ,</code>：窗口重命名。</li></ul><h2 id=3-常用>3. 常用</h2><h3 id=31-翻屏>3.1 翻屏</h3><ul><li>进入tmux翻屏模式:先按<code>ctrl ＋ｂ</code>，松开，然后再按<code>[</code></li><li>操作同vim：jkhl上下左右</li></ul><h3 id=32-最简操作>3.2 最简操作</h3><ol><li>新建会话<code>tmux new -s my_session</code>。</li><li>在 Tmux 窗口运行所需的程序。</li><li>按下快捷键 d 将会话分离。</li><li>下次使用时，重新连接到会话<code>tmux attach -t my_session</code>。</li></ol><h2 id=4-设置>4. 设置</h2><h3 id=41-启用鼠标滚轮>4.1 启用鼠标滚轮</h3><p>Ctrl + b，然后输入</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ setw mode-mouse on
</span></span></code></pre></div><h1 id=reference>Reference</h1><p><a href=https://zhuanlan.zhihu.com/p/261206348>https://zhuanlan.zhihu.com/p/261206348</a></p></div><div class=tags><ul class=flat><li><a href=/tags/tmux>tmux</a></li></ul></div></div></div><div class="footer wrapper"><nav class=nav><div>2022 © Athul | <a href=https://github.com/knadh/hugo-ink>Ink</a> theme on <a href=https://gohugo.io>Hugo</a></div></nav></div><script>feather.replace()</script></body></html>